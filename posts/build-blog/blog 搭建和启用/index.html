<!DOCTYPE html>
<html lang="zh_CN"><head>
    <meta charset="utf-8"><title>blog搭建和启用-XUN</title>

    <meta name="theme-color" content="#e0e0e0">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="msapplication-navbutton-color" content="#e0e0e0">
    <meta name="apple-mobile-web-app-status-bar-style" content="#e0e0e0">
    
    
    <link rel="icon" type="image/png" href="/HQL.ico">
    
    
    
    <link rel='stylesheet' type='text/css' href='/css/main.min.5ae33b93e01cdb04e67b5ecc3082588e9445a3184d3d80a16893ff500fca8e7e.css' />
    
    
    <script type="text/javascript" src="/js/main.js" defer></script>
</head><body class="mytheme">
  <div class="body-container">
    <aside>
    <div class="nav-title">
        <a href="/" class="home-link" target="_blank">XUN</a>
    </div>
    <section class="sidebar">
        <div id="sidebar-info" class="sidebar-info">
            <div class="sidebar-about">
                <p class="lead">
                    想写一个播放器想写一个传输工具想写一个通讯工具想在高速公路上自由coding一边听歌如果一个古代人技能点是写代码怎么办
                </p>
            </div>
            <div class="count">文章</div>
            <div class="social">
                <a href="https://github.com/cenjianxun" target="_blank" rel="noopener noreferrer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github">
                        <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
                        <path d="M9 18c-4.51 2-5-2-7-2"/> 
                        </svg>
                </a>
                <a href="" target="_blank" rel="noopener noreferrer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor"  stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-twitter">
                        <path
                            d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z">
                        </path>
                    </svg>
                </a>
                <a href=""  target="_blank" rel="noopener noreferrer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-mail">
                        <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                        <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                    </svg>
                </a>
                <a href=""  target="_blank" rel="noopener noreferrer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-rss">
                        <path d="M4 11a9 9 0 0 1 9 9"></path>
                        <path d="M4 4a16 16 0 0 1 16 16"></path>
                        <circle cx="5" cy="19" r="1"></circle>
                    </svg>
                </a>
            </div>
        </div>
        
        
            


<div id="sidebar-toc" class="sidebar-toc">
    
    <header>
        <span class="toc-bar"></span>
        <h4 class="toc-header">blog搭建和启用</h4>
        <span class="toc-bar"></span>
    </header>
    
    <nav id="TableOfContents">
  <ul>
    <li><a href="#方案比较和选择">方案比较和选择</a>
      <ul>
        <li><a href="#自我扫盲博客构成">自我扫盲：博客构成</a></li>
        <li><a href="#部署方式">部署方式</a></li>
        <li><a href="#最后选择">最后选择</a></li>
      </ul>
    </li>
    <li><a href="#本地搭建">本地搭建</a>
      <ul>
        <li><a href="#搭建步骤">搭建步骤</a></li>
      </ul>
    </li>
    <li><a href="#部署服务">部署服务</a>
      <ul>
        <li><a href="#首次发布要额外设置的">首次发布要额外设置的</a></li>
        <li><a href="#发布文章步骤">发布文章步骤</a></li>
        <li><a href="#自动化脚本">自动化脚本</a></li>
        <li><a href="#域名">域名</a></li>
        <li><a href="#评论系统">评论系统</a></li>
        <li><a href="#图片管理">图片管理</a></li>
      </ul>
    </li>
    <li><a href="#发布流程">发布流程</a>
      <ul>
        <li><a href="#为什么托管到github">为什么托管到Github?</a></li>
      </ul>
    </li>
    <li><a href="#为什么使用netlify">为什么使用Netlify?</a></li>
    <li><a href="#为什么使用netlify-cms">为什么使用Netlify CMS?</a>
      <ul>
        <li><a href="#什么是cms">什么是CMS?</a></li>
        <li><a href="#netlify-cms的优势">Netlify CMS的优势</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div>
 


<script type="text/javascript" src="/js/toc.js" defer></script>




        

    </section>
    <section class="func">
        <div id="func-top" class="to-top">
            <a href="#top" target="_self">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 28 28" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-arrow-big-up-dash">
                    <path d="M9 19h6" />
                    <path d="M9 15v-3H5l7-7 7 7h-4v3H9z" />
                </svg>
            </a>
        </div>

    </section>
</aside>
    <div class="content-container">
      <nav class="nav-container">
    <div class="nav-menu-items">
        <ul class="menu-items"><li class="menu-item">
                <a href="/" target="_self">HOME</a>
            </li><li class="menu-item">
                <a href="/archive/" target="_self">ARCHIVE</a>
            </li><li class="menu-item">
                <a href="/notes/" target="_self">NOTES</a>
            </li><li class="menu-item">
                <a href="/about/" target="_self">ABOUT</a>
            </li>
        </ul>
    </div>
    <button type="button" class="drop-menu-button">
        <span class="menu-bar"></span>
        <span class="menu-bar"></span>
        <span class="menu-bar"></span>
    </button>
</nav>
      <main class="content">
        <div class="page"><article class="post-block">
    <header class="post-header">
        <h1>blog搭建和启用</h1>
        <div class="post-time">Aug 8 2023</div>
    </header>

    <div class="post-content"><p>记录建此博客的过程。包括前后端技术及决策的点。
完全从0开始。</p>
<h2 id="方案比较和选择">方案比较和选择 <a href="#%e6%96%b9%e6%a1%88%e6%af%94%e8%be%83%e5%92%8c%e9%80%89%e6%8b%a9" style="border:none;"></a></h2><p>需求：简单的，最好不花钱的。数据库等目前不需要。</p>
<h3 id="自我扫盲博客构成">自我扫盲：博客构成 <a href="#%e8%87%aa%e6%88%91%e6%89%ab%e7%9b%b2%e5%8d%9a%e5%ae%a2%e6%9e%84%e6%88%90" style="border:none;"></a></h3><p>网页发布流程：
写文章，现在通常用markdown，xxx.md
→ 需要有东西将.md文件编译成html/css静态文件，可以被浏览器识别的文件。
这一步就是为什么要找博客搭建平台，hugo、wordpress等平台基础功能就是这个。静态平台主要功能就是这个。
→ 生成的html/css静态文件需要有网站间运行。hugo hexo这类静态平台不包，要自己解决，可以自己搭后台也可以托管给专门的服务器。有的大型的平台包这部分，包括提供数据库等。</p>
<p>自创抽象博客架构：
<code>[ 【前端】（后端）【网站空间】（其他：域名，（图床，加速器等））]</code>
[]便是一个博客。【】内为必要内容，（）内为可要可不要内容，越（）越不重要。我大概理解。</p>
<ul>
<li>
<p>前端｜Frontend
必要。废话前端展示内容。
需要将文章文本（现在一般是markdown），转换成前端页面。</p>
</li>
<li>
<p>网站空间｜Hosting
必要。布在网上运行，别人才能访问。
常见的网站空间购买形式有：共享主机，VPS，云托管和专用主机。</p>
</li>
<li>
<p>后端 ｜ Backend
大型站需要。需要数据库存数据之类。可在后台界面进行操作。</p>
</li>
<li>
<p>域名 ｜ Domain Name
流量大需要。可通过域名访问而不是ip地址。一般得买，其实是租，域名不能买断。</p>
</li>
<li>
<p>其他</p>
<ul>
<li>图床，存图的。可能还需要压缩图的。以及提高访问速度的</li>
<li>评论区，适合中国宝宝体质的麻烦部分。</li>
</ul>
</li>
</ul>
<h3 id="部署方式">部署方式 <a href="#%e9%83%a8%e7%bd%b2%e6%96%b9%e5%bc%8f" style="border:none;"></a></h3><p>根据不同前后端选择方式来选择网站空间。</p>
<p>从方便到麻烦，按自己理解，粗粗排序，不精确！：
<code>全自动大型内容管理系统 &gt; 动态模式带后台 &gt; 静态模式带框架 &gt; 纯纯自己手搓</code></p>
<p>大型网站一键部署，比如用Ghost。太重了。<br>
自己一键搭，比如wordpress、halo等框架，还带数据库。目前不需要。<br>
动态网站，意思是带后台管理，依赖服务器和数据库，动态生成html页面。也不需要。<br>
静态模式，本地编辑静态文件，静态生成html。轻。但每增删改一个页面，都得重新上传服务器。 有的功能比如评论，得自己搭。
关于页面，自动搭博客框架很多，比如Jekyll，hexo，hugo等静态网站生成器带的框架。也可以自己用vue，react等写。</p>
<p>后端，也有框架，可以自己写。一般动态网站要买域名和hosting。
静态页面资源少，可以免费部署。一般这几种托管/发布方式：自己的 vps 主机 / GitHub Pages / Vercel等(Serverless 平台)。然后通过github仓库关联。</p>
<p>还有不用懂代码的，gridea，用过，感觉不太好用，主题也限制比较多。</p>
<h3 id="最后选择">最后选择 <a href="#%e6%9c%80%e5%90%8e%e9%80%89%e6%8b%a9" style="border:none;"></a></h3><p>→ 功能上不需要太重
✔︎ 使用静态。淘汰wordpress、halo等动态平台
→ 静态里尽量快。高人气平台速度：Hugo (golang) &gt; Hexo (Node.js) &gt; Jekyll (Ruby)
✔︎ 使用Hugo。
→ 托管： 选国外的，国内收录、访问速度等不优先考虑，先搭起来再说。
✔︎ 使用Github Page托管。</p>
<p>静态 Hugo + Github Page</p>
<p>优点：轻，快，方便部署，便宜。而且是使用比较喜欢的golang语言。
缺点：速度慢。百度不收录检索。无法做CDN加速。发文章麻烦。慢慢用着调整，不行后续再换。</p>
<p>github page 限制：</p>
<ul>
<li>单个文件大于50MB将受到警告。</li>
<li>单个文件大于100MB无法上传。</li>
<li>仓库大小「强烈建议」少于5GB。</li>
<li>每小时可构建10次。</li>
<li>每月流量100GB。</li>
</ul>
<h2 id="本地搭建">本地搭建 <a href="#%e6%9c%ac%e5%9c%b0%e6%90%ad%e5%bb%ba" style="border:none;"></a></h2><p>需求：
简约。一定要有文章大纲显示（TOC ）。不要纯横版，两边特别浪费 看着还不紧凑。</p>
<p>hugo必须一开始就选择主题，于是挑了一圈。<del>最后选定了<a href="wangchucheng.com/hugo-eureka">eureka</a></del></p>
<p>补充：您猜怎么着，最后没用hugo发布的主题，纯自己写了原生html+css。所以需要单独剥离出一篇Hugo内容，和一篇html+css的基础前端笔记。</p>
<h3 id="搭建步骤">搭建步骤 <a href="#%e6%90%ad%e5%bb%ba%e6%ad%a5%e9%aa%a4" style="border:none;"></a></h3><p>下载，基本不用复杂安装 —&gt; 选主题。主题配置好 —&gt; 文章发布流程 —&gt; 启动服务</p>
<ol>
<li>
<p>下载<code>brew install hugo</code>
下载前还要在终端翻墙，参见<a href="/posts/%e5%ae%89%e8%a3%85%e5%ad%98%e6%a1%a3">安装存档</a>
验证 <code>hugo version</code></p>
</li>
<li>
<p>初始化blog</p>
<pre tabindex="0"><code>hugo new site &lt;yourblogname&gt; 
cd &lt;yourblogname&gt; 
</code></pre><p>cd 进去，观察它结构，顺便下载 <code>brew install tree</code>, 直接用tree命令看</p>
</li>
<li>
<p>安装。必须安装某个主题就在这里了。一般选的主题都会有说明如何安装，这里抽象一个通用代码。</p>
<pre tabindex="0"><code>git init
git submodule add &lt;GITHUB URL&gt; themes/&lt;THEME NAME&gt;
# 这里的GITHUB URL是该主题提供给你的，它仓库地址。 THEME NAME是你自己自由起的名字，一般就命名为该主题名字。
</code></pre><p>搜了一圈下载有两种命令，git clone，git submodules，又搜了一圈区别。
概括就是sub方式比较严谨安全，此命令隔绝原版来拉代码，保证自己拉的分支和原作master不起冲突。那用这个命令。</p>
<div role='note' class='notation'>
        
        <span class="point point4"></span>
        <span class="point point4"></span>
        <span class="point point4"></span>
        <span class="point point4"></span>
        

    
    <pre><code>因为后面在.gitignore里添加了theme文件夹，导致后面拉theme要使用：
`git submodule add -f &lt;GITHUB URL&gt; themes/&lt;THEME NAME&gt;`
</code></pre>
    </div>
</li>
<li>
<p>根据各个主题要求操作，比如可能主题代码content中没内容，要去theme文件夹中复制，等等。然后就可以自己配置了。
however，最后我自己写了主题。</p>
</li>
<li>
<p>本地调试运行网页
流程：</p>
<pre tabindex="0"><code># 新生成一篇文章
hugo new posts/hello-world.md
# 💡 new 后面的路径是从content为根的。
所以此文章生成路径 [hugo根目录/content/posts/hello-world.md]，需要hugo下有content文件夹，content就是放博文的。也可以不要posts/，就会直接放在content下。之所以还要一层posts，是因为通常posts之外可以放一些静态文章，比如about，友链这些。
# 💡 hugo的文章都需要有一些文章头部设定的声明，但不用担心，使用此命令生成的.md自动带，当然自己外面写好，添加头部复制进来也可以。这种简单的事情，搜了一圈没弄清。

# 编译
hugo

# 启动服务
hugo server
# 💡 要在根目录运行。默认地址 http://localhost:1313/
# 💡 还有一些别的可用命令，比如 后缀-D，当有文章头部设置为draft草稿，而draft正常不可见，此后缀可令草稿可见。
</code></pre></li>
</ol>
<h2 id="部署服务">部署服务 <a href="#%e9%83%a8%e7%bd%b2%e6%9c%8d%e5%8a%a1" style="border:none;"></a></h2><p>hugo有两种发布方式。</p>
<ol>
<li>
<p>使用github 唯一的个人主页仓库发布。必须创建一个 <!-- raw HTML omitted -->.github.io 仓库来托管生成的静态页面。
发布后域名为<code>https://&lt;USERNAME&gt;.github.io</code>，config里的baseUrl也要设成<code>https://&lt;USERNAME&gt;.github.io</code></p>
</li>
<li>
<p>创建普通的项目仓库，通过项目主页发布。发布后域名为<code>https://&lt;USERNAME&gt;.github.io/&lt;PROJECT_NAME&gt;</code>。config里的baseUrl也要改成这个。</p>
</li>
</ol>
<p>一般建议通过个人主页发布，因为第二种方法常出bug。</p>
<h3 id="首次发布要额外设置的">首次发布要额外设置的 <a href="#%e9%a6%96%e6%ac%a1%e5%8f%91%e5%b8%83%e8%a6%81%e9%a2%9d%e5%a4%96%e8%ae%be%e7%bd%ae%e7%9a%84" style="border:none;"></a></h3><ul>
<li>
<p>创建个人主页仓库。仓库名必须为github名字。分支要和本地一样，现在好像默认都是main。</p>
</li>
<li>
<p>因为此仓库只存静态页面，即写完blog，运行 <code>hugo</code> 之后编译成的，存在 <code>public</code> 文件夹里的文件。所以需要单独将public/ 专门设 <code>git init</code> 以便提交。但是我记得git仓库不能嵌套<code>.git</code>，而这时 public/ 的父级已经是git包里。于是又踟蹰了，并且思考了一些，那我前端代码的layout等部分要单独建仓库存吗？我博文.md的内容要单独建仓库存吗？之类的问题。</p>
</li>
</ul>
<p>最终设置是，在 myblogsite的大文件夹，添加<code>.gitignore</code>，把 <code>content/</code> 和 <code>public/</code> 屏蔽掉。因为我自己写主题，但是下了一堆别人的主题在 <code>themes/</code> 里学习，所以也把这个文件夹屏蔽掉。然后：</p>
<pre tabindex="0"><code>cd public
git init # 创建子层本地仓库
git remote add origin &lt;SSH path&gt;
</code></pre><p>接下来的步骤就是最基本的，每次发文章都需执行的步骤。</p>
<h3 id="发布文章步骤">发布文章步骤 <a href="#%e5%8f%91%e5%b8%83%e6%96%87%e7%ab%a0%e6%ad%a5%e9%aa%a4" style="border:none;"></a></h3><pre tabindex="0"><code>  #（写文章）
  # 编译
  hugo

  # 进public
  cd public

  git add .
  git commit -m &#39;备注&#39;
  git push origin main
</code></pre><p>多试几次就会觉得麻烦，有自动脚本可以执行这个。
再嫌麻烦之后可以试 <code>github actions</code>自动部署。
一股脑丢这些相似的名词容易晕，<code>github page</code>是托管编译的静态页面，并发布的。<code>github actions</code>是帮忙自动部署和管理的，相当于高阶自动脚本帮跑上面那个编译发布步骤。</p>
<h3 id="自动化脚本">自动化脚本 <a href="#%e8%87%aa%e5%8a%a8%e5%8c%96%e8%84%9a%e6%9c%ac" style="border:none;"></a></h3><p>官方提供的。
复制⬇️ 保存在deploy.sh文件中</p>
<pre tabindex="0"><code>#!/bin/sh

# 任一步骤执行失败都会终止整个部署过程
set -e

printf &#34;\033[0;32mDeploying updates to GitHub...\033[0m\n&#34;

# 构建静态内容
hugo # if using a theme, replace with `hugo -t &lt;YOURTHEME&gt;`

# 切换到 Public 文件夹
cd public

# 添加更改到 git
git add .

# 提交更改
msg=&#34;rebuilding site $(date)&#34;
if [ -n &#34;$*&#34; ]; then
msg=&#34;$*&#34;
fi
git commit -m &#34;$msg&#34;

# 推送到远程仓库
git push origin main
</code></pre><p>文件在你blog的根目录下保存完，执行<code>chmod +x deploy.sh</code>添加可执行权限。然后执行
<code>bash deploy.sh</code></p>
<hr>
<p>参考：https://immmmm.com/</p>
<p><a href="https://www.pseudoyu.com/zh/2022/03/24/free_blog_deploy_using_hugo_and_cusdis/" target="_blank" rel="noopener">https://www.pseudoyu.com/zh/2022/03/24/free_blog_deploy_using_hugo_and_cusdis/</a></p>
<h3 id="域名">域名 <a href="#%e5%9f%9f%e5%90%8d" style="border:none;"></a></h3><p>使用 GitHub Pages 生成网站会自动分配一个 xxx.github.io 的默认域名，通过这个域名就可以直接对生成的博客网站进行访问，也可以通过域名解析配置自己的域名，如我的网站就是解析了 <a href="https://www.pseudoyu.com/" target="_blank" rel="noopener">pseudoyu.com</a> 这个域名。</p>
<p>我的域名是在 <a href="https://www.namesilo.com/" target="_blank" rel="noopener">NameSilo</a> 购买的，并通过 <a href="https://www.cloudflare.com/" target="_blank" rel="noopener">Cloudflare</a> 平台进行 CDN 加速，提升访问体验，并实现了域名重定向等功能，关于博客访问优化这一点后续会单独讲解。</p>
<p><strong>[2022-05-29 更新]</strong></p>
<p>我后来为了方便管理，把 NameSilo 域名迁移到了 Cloudflare，大家可以直接在 Cloudflare 上购买，教程包含在《<a href="https://www.pseudoyu.com/zh/2022/05/29/deploy_your_blog_using_hugo_and_github_action/" target="_blank" rel="noopener">Hugo + GitHub Action，搭建你的博客自动发布系统</a>》中。</p>
<h3 id="评论系统">评论系统 <a href="#%e8%af%84%e8%ae%ba%e7%b3%bb%e7%bb%9f" style="border:none;"></a></h3><p>一个博客系统当然需要评论系统，像 WordPress 这种自身具备了评论插件，而静态博客则需要自己对接一些评论系统，我最开始选择的是第三方的 <a href="https://disqus.com/" target="_blank" rel="noopener">Disqus</a>，简单易用，但是会自带很多广告推广，也不够简约，后来选择了 <a href="https://lutaonan.com/" target="_blank" rel="noopener">Randy</a> 的 <a href="https://cusdis.com/" target="_blank" rel="noopener">Cusdis</a>，一个轻量级的开源评论系统解决方案（从名字看也是深受 Disqus 其害忍不住自己开坑了哈哈），我通过 Vercel 自建，并链接了 <a href="https://www.heroku.com/" target="_blank" rel="noopener">Heroku</a> 的免费 <a href="https://www.postgresql.org/" target="_blank" rel="noopener">PostgreSQL</a> 数据库进行评论数据存储，实现了免费、稳定的评论系统，还支持邮件推送、Telegram Bot 提醒/快捷回复等功能。</p>
<h3 id="图片管理">图片管理 <a href="#%e5%9b%be%e7%89%87%e7%ae%a1%e7%90%86" style="border:none;"></a></h3><p>日常发布的文章中可能会涉及很多图片，将图片存储在静态博客源项目仓库中的话会使项目过于庞大，并且很难二次使用和管理，因此，我同样选择了 GitHub 作为图床工具，并使用 <a href="https://molunerfinn.com/PicGo/" target="_blank" rel="noopener">PicGo</a> 客户端进行图床管理，在上传前使用 <a href="https://tinypng.com/" target="_blank" rel="noopener">TinyPNG</a> 进行压缩，并使用 <a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr</a> 服务为 GitHub 图床进行加速，这样就可以将所有图片存储在 GitHub 图床仓库，文章中以外链的方式嵌入图片。</p>
<h2 id="发布流程">发布流程 <a href="#%e5%8f%91%e5%b8%83%e6%b5%81%e7%a8%8b" style="border:none;"></a></h2><p>通常 GitHub Pages 发布博客需要本地 <code>hugo</code> 命令生成静态站点文件目录，<code>cd</code> 到 <code>public</code> 目录，并使用 <code>git add</code>、<code>git commit</code>、<code>git push</code> 等命令提交到 GitHub Pages 仓库，实现博客的发布，因为每次更新都需要进行重复操作，且博客源 Markdown 文件无法进行很好的备份和版本管理。</p>
<p>因此，我建立了一个博客源文件仓库，通过 GitHub Action 实现了一套自动化发布流程，仅需将 Hugo 博客源文件上传至 GitHub 仓库，会自动触发 CI 生成静态站点文件并推送到 GitHub Pages 仓库。</p>
<p><strong>[2022-05-29 更新]</strong></p>
<p>Hugo 搭建与 GitHub Action 配置教程已更新：《<a href="https://www.pseudoyu.com/zh/2022/05/29/deploy_your_blog_using_hugo_and_github_action/" target="_blank" rel="noopener">Hugo + GitHub Action，搭建你的博客自动发布系统</a>》</p>
<h3 id="为什么托管到github">为什么托管到Github? <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e6%89%98%e7%ae%a1%e5%88%b0github" style="border:none;"></a></h3><p>因为大部分的博客渲染工具(hexo,hugo,gridea)都是依赖于github,国内的coding page无论是从稳定性还是操作便捷程度都不及github,推送代码还有广告,而这完全取决与你的氪金程度.所以还是推荐使用github托管.可能你会说coding page在国内访问快,但是单单这一个优势无法称作是最佳实践,而且下文的netlify会解决这一系列的问题,先按下不表.</p>
<p><strong>最重要的是我们把github仅仅作为博客的托管仓库,不使用它的github page部署</strong></p>
<hr>
<h2 id="为什么使用netlify">为什么使用Netlify? <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bd%bf%e7%94%a8netlify" style="border:none;"></a></h2><p><strong>先说一下它的功能:</strong></p>
<ul>
<li>可以<strong>托管静态资源</strong></li>
<li>可以将静态网站部署到CDN上,<strong>加速国内访问</strong></li>
<li>Continuous Deployment <strong>持续部署</strong>,当你提交改变到git 仓库,它就会自动运行build command,进行自动部署</li>
<li>可以添加自定义域名</li>
<li><strong>可以启用免费的TLS证书,启用HTTPS</strong></li>
<li><strong>最强大的cms</strong>,用来管理静态资源</li>
<li>自带 CI、支持自定义页面重定向、自定义插入代码、打包和压缩 JS 和 CSS、压缩图片、处理图片</li>
</ul>
<p><strong>github page:</strong></p>
<ul>
<li>github虽然没有被墙,但是那个访问速度非常的慢,对国内访问的用户来说体验极差</li>
<li>百度无法抓取,众所周知国内用百度的还是多,如果你写的文章,无法被百度抓取收录,那还是有点坑的</li>
<li>无法做CDN加速.未备案域名服务器,无法使用国内的cnd加速服务</li>
</ul>
<p><strong>Netlify 与 Travis CI 的区别:</strong></p>
<ul>
<li>我们可以看到使用Netlify可以轻松的帮你自动持续部署博客,也就是说,<strong>他会自动检测到你的博客源码的更改,自动执行hexo d+ hexo g</strong>.</li>
<li><a href="https://link.zhihu.com/?target=https%3A//www.netlify.com/" target="_blank" rel="noopener">Netlify</a> 与 <a href="https://link.zhihu.com/?target=https%3A//travis-ci.org/" target="_blank" rel="noopener">Travis CI</a> 等等都是持续集成工具, 但是它更加关注前端, 或者说网站或者 web app 的持续集成与持续部署, 这也是它与其他持续集成工具最大的区别. 目前对于 <a href="https://link.zhihu.com/?target=https%3A//www.netlify.com/" target="_blank" rel="noopener">Netlify</a> 的使用也非常简单, 但是这是其他持续集成工具没有的.</li>
</ul>
<p><strong>所以说使用了Netlify,就等于替代了GithubPage+ Travis CI.并且比较完美的弥补了两者的不足.</strong></p>
<blockquote>
<p>ps:我在查询相关的资料的时候发现有的博客的做法是把源码和渲染后的网页放在两个分支(这也是 hexo 提倡的做法),但是却只是让 netlify 托管渲染后的分支,这样的话 netlify 无法做到自动部署,此时的 netlify 仅仅是充当了githubpage的角色</p>
</blockquote>
<hr>
<h2 id="为什么使用netlify-cms">为什么使用Netlify CMS? <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%bd%bf%e7%94%a8netlify-cms" style="border:none;"></a></h2><h3 id="什么是cms">什么是CMS? <a href="#%e4%bb%80%e4%b9%88%e6%98%afcms" style="border:none;"></a></h3><blockquote>
<p><strong>内容管理系统</strong>（英语：<strong>content management system</strong>，缩写为<strong>CMS</strong>）是指在一个合作模式下，用于<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E7%AE%A1%E7%90%86" target="_blank" rel="noopener">管理</a>工作流程的一套制度。该系统可应用于手工操作中，也可以应用到<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E7%94%B5%E8%84%91" target="_blank" rel="noopener">电脑</a>或<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C" target="_blank" rel="noopener">网路</a>里。作为一种中央储存器（central repository），内容管理系统可将相关内容集中储存并具有群组管理、版本控制等功能。<a href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6" target="_blank" rel="noopener">版本控制</a>是内容管理系统的一个主要优势。</p>
</blockquote>
<h3 id="netlify-cms的优势">Netlify CMS的优势 <a href="#netlify-cms%e7%9a%84%e4%bc%98%e5%8a%bf" style="border:none;"></a></h3><ul>
<li>我们可以通过<a href="https://link.zhihu.com/?target=https%3A//www.netlifycms.org/docs/configuration-options/" target="_blank" rel="noopener">Netlify CMS</a>来在线编辑我们的文章,而<strong>不用在本地比较繁琐的操作</strong></li>
<li>虽然它是作为一款团队的编辑工具,但作为轻量的博客编辑,我们可以暂时把他定位为个人的在线编辑工具,这样的话你<strong>可以随时随地修改,编辑你的博客,而不用考虑多设备如何同步的问题.</strong></li>
<li>Netlify CMS提供Hexo的插件,可以简单的开启你的Netlify CMS服务</li>
</ul></div>

    <div class="post-meta meta">
        
        <span class="tags-box">
            <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" fill="currentColor"
                class="fas-tags">
                <path
                    d="M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5V80C0 53.5 21.5 32 48 32H197.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z" />
            </svg>
            
            
            <a class="tag-link" href="/%20/tags/hugo">hugo</a>
            
            ,&nbsp;
            <a class="tag-link" href="/%20/tags/github">github</a>
            
        </span>
        
    </div>

    <div class="post-paginator">
        
        
        <div class="pag-prev">
        
            <p class="jump-post">这就是第一篇文章了</p>
        
        </div>
  
        <div class="pag-next">
            
            
            <a href="https://cenjianxun.github.io/posts/build-blog/hugo%E4%BD%BF%E7%94%A8%E4%B8%8A%E7%AF%87%E7%AC%94%E8%AE%B0%E5%8F%8A%E8%B8%A9%E5%9D%91/" class="jump-post">Hugo使用上篇：笔记及踩坑</a>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"
                class="lucide lucide-arrow-right-to-line">
                <path d="M17 12H3" />
                <path d="m11 18 6-6-6-6" />
                <path d="M21 5v14" />
            </svg>
            
        </div>
        
    </div>

    
    
    <div class="post-series">
        <span class="block-bar"></span>
        <header><a href="/posts/build-blog/">建站记</a> 系列文章</header>
        
        <li>
            
            <a href="/posts/build-blog/hugo%E4%BD%BF%E7%94%A8%E4%B8%8B%E7%AF%87%E5%BC%80%E5%8F%91blog%E6%96%B0%E5%8A%9F%E8%83%BD/">index</a>
            
        </li>
        
        <li>
            
            <a href="/posts/build-blog/hugo%E4%BD%BF%E7%94%A8%E4%B8%8A%E7%AF%87%E7%AC%94%E8%AE%B0%E5%8F%8A%E8%B8%A9%E5%9D%91/">index</a>
            
        </li>
        
        <li>
            
            <p>index</p>
            
        </li>
        
    </div>
    

</article>


    </div>
      </main>
      <footer class="footer">
    <p class="copyright"> © 2018 - 2023 &nbsp; XUN
    </p>
</footer>


    </div>
  </div>
</body>
</html>